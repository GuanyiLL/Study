# 计算机系统概述

## 计算机系统层次结构

### 计算机系统的基本组成

#### 冯诺依曼计算机特点

特点如下：

    * 计算机由运算器、存储器、控制器、输入设备、输出设备五大部分组成
    * 指令和数据以同等地位存放于存储器内，并可按地址寻址访问
    * 指令和数据均用二进制数表示
    * 指令由操作码和地址码组成，操作码用来表示操作的性质，地址码用来表示操作数在存储器中的位置
    * 指令在存储器内按顺序存放。通常，指令是顺序执行的，在特定条件下，可根据运算结果或根据设定的条件改变执行顺序
    * 机器以运算为中心，输入输出设备与存储器间的数据传送通过运算器完成

各部件功能：

    * 运算器用来完成算术运算和逻辑运算，并将运算的中间结果暂存在运算器内。
    * 存储器用来存放数据和程序
    * 控制器用来控制、指挥程序和数据的输入、运行以及处理运算结果
    * 输入设备用来将人们熟悉的信息形式转换为机器能识别的信息形式，常见的右键盘、鼠标等
    * 输出设备可将机器运算结果转换为人们熟悉的信息形式，如打印机输出、显示器输出等

运算器与控制器合起来统称为中央处理器(Central Processing Unit, CPU)。把输入设备与输出设备简称为I/O设备(Input/Output Equipment)。

CPU中：

算数逻辑单元(Arithmetic Logic Unit,ALU)简称算逻部件，用来完成算数逻辑运算。控制单元(Control Unit, CU)用来解释存储器中的指令

I/O设备也受CU控制，用来完成相应的输入、输出操作。

#### 计算机的工作步骤

1. 上机前准备
    1. 建立数学模型
    2. 确定计算方法
    3. 编制解题程序
2. 计算机的工作过程
    1. 主存储器
    2. 运算器
    3. 控制器
    4. I/O

(1)主存储器
主存储器(简称主存或内存)包括存储体M、各种逻辑部件及控制电路等。存储体由许多存储单元组成，每个存储单元又包含若干个存储原件(或称存储基元、存储元)，每个存储原件能寄存一位二进制代码`0`或`1`。可见，一个存储单元可存储一串二进制代码，称这串二进制代码为一个存储字，这串二进制代码的位数称为存储字长。

主存的工作方式就是按存储单元的地址号来实现对存储字各位的存(写入)、取(读出)，这种存取方式称为按地址存取方式，即按地址访问存储器(简称访存)。由于指令和数据由存储单元地址号来反映，因此，取一条指令和取一个数据的操作完全可视为是相同的。这样就可以使用一套控制线路来完成两种截然不同的操作。

为了实现按地址访问的方式，主存中还必须配置两个寄存器MAR和MDR。MAR(Memory Address Register)是存储地址寄存器，MDR(Memory Data Register)是存储器数据寄存器。

(2)运算器
运算器最少包括3个寄存器和一个算数逻辑单元(ALU)。ACC为累加器，MQ为乘商寄存器，X为操作数寄存器。

(3)控制器

1. 命令存储器读出一条命令，称为取指过程(也称取指阶段)
2. 分析指令，指出该指令要完成的操作，并按寻址特征指明操作数的地址，称为分析过程(也称分析阶段)
3. 根据操作数所在的地址以及指令的操作码完成某种操作，称为执行过程(也成执行过程)

控制器由程序计数器(Program Counter, PC)、指令寄存器(Instruction Registr, IR)以及控制单元(CU)组成。PC用来存放当前欲执行指令的地址，它与主存的MAR之间有一条直接通路，且具有自动加1的功能，即可自动形成下一条指令的地址。IR用来存放当前的指令，IR的内容来自主存的MDR。IR中的操作码送至CU，记做OP->CU，用来分析命令；其地址码座位操作数的地址送至存储器的MAR，记做Ad(IR)->MAR。CU用来分析当前指令所需完成的操作，并发出各种微操作命令序列，用以控制所有被控对象。

(4)I/O
I/O子系统包括各种I/O设备及其相应的接口。每一种I/O设备都由I/O接口与主机联系，它接受CU发出的各种控制命令，并完成相应的操作。

## 计算机硬件的主要技术指标

### 机器字长

机器字长指CPU一次能处理数据的位数，通常与CPU的寄存器位数有关。机器字长对硬件的造价也有较大影响。直接影响加法器、数据总线以及存储字长的位数。所以机器字长的确定不能单从精度和数的表示范围来考虑。

### 存储容量

存储器的容量应该包括主存容量和辅存容量。
主存容量是指主存中存放二进制代码的总位数。
> 存储容量 = 存储单元格数 x 存储字长

### 运算速度

现在机器的运算普遍采用单位时间内执行指令的平均数来衡量，并用MIPS(Million
 Instruction Per Second, 百万条指令每秒)作为计量单位。或用FLOPS(Floating Point Operation Per Second, 浮点运算次数每秒)来衡量运算速度。