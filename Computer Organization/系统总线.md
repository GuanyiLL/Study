# 总线

## 总线的概念

计算机系统的五大部件之间的互连方式有两种，一种是各部件之间使用单独的连线，称为分散连接；另一种是将各部件连到一组公共信息传输线上，称为总线连接。

双总线结构：

一组总线连接CPU和主存，称为存储总线(M 总线)；另一组用来建立CPU和各I/O设备之间交换信息的通道，称为输入/输出总线(I/O总线)。

倘若将CUP、主存和I/O设备(通过I/O接口)都挂到一组总线上，使形成单总线结构的计算机。

还有一种以存储器为中心的双总线结构，它是在单总线基础上又开辟出的一条CPU与主存之间的总线。这组总线速度高，只供主存与CPU之间传输信息。

## 总线的分类

按数据传送方式可分为并行传输总线和串行传输总线。在并行传输总线中，又可按传输数据宽度分为8位、16位、32位、64位等传输总线。若按总线的使用范围划分，则又有计算机总线，测控总线、网络通信总线等。下面按连接部件不同，介绍三类总线。

### 片内总线

片内总线是指芯片内部的总线，如在CPU芯片内部，寄存器与寄存器之间，寄存器与算逻单元ALU之间都由片内总线连接。

### 系统总线

系统总线是指CPU、主存、I/O设备各大不见之间的信息传输线。

按系统总线传输信息的不同，又可分为三类：数据总线、地址总线和控制总线。

* 数据总线

数据总线用来传输各功能部件之间的数据信息，它是双向传输总线，其位数与机器字长、存储字长有关，一般为8位、16位、32位。数据总线的位数称为数组总线的宽度，它是衡量系统性能的一个重要参数。如果数据总线的宽度为8位，指令字长为16位，那么，CPU在取指阶段必须两次访问主存。

* 地址总线

地址总线主要用来指出数据总线上的源数据或目的数据在主存单元的地址或I/O设备的地址。地址总线上的代码是用来指明CPU欲访问的存储单元或I/O端口的地址，由CPU输出，单向传输。地址总线的位数与存储单元的个数有关，如地址线为20根，则对应的存储单元个数为$2^20$。

* 控制总线

由于数据总线、地址总线都是被挂在总线上的所有部件共享的，如何使各部件能在不同时刻占有总线使用权，需依靠控制总线来完成，因此控制总线是用来发出各种控制信号的传输线。

### 通信总线

按传输方式分为两种：

1. 串行通信
2. 并行通信

串行通信是指数据在单条1位宽的传输线上，一位一位地按顺序分时传送。

并行通信是指数据在多条并行1位宽的传输线上，同时由源传送到目的地。

## 总线特性及性能指标

### 总线特性

从屋里角度看，总线由许多导线直接印制在电路板上，延伸到各个部件。
总线特性包括以下几项：

* 机械特性

机械特性是指总线在机械连接方式上的一些性能，如插头与插板的使用标准，他们的几何尺寸
形状、引脚的个数以及排列的顺序，插头处的可靠接触等。

* 电气特性

电气特性是指总线的每一组传输线上信号的传递方向和有效的电平范围。通产规定由CPU发出的信号称为输出信号，送入CPU的信号称为输入信号。

* 功能特性

功能特性是指总线中没根传输线的功能。

* 时间特性

时间特性是指总线中的任一根线在什么时间内有效。每条总线上的各种信号互相存在一种有效时序的关系。

### 总线性能指标

1. 总线宽度：通常指数据总线的根数，用bit表示，如8位、16位、32位、64位。
2. 总线带宽：总线带宽可以理解为总线的数据传输速率，即单位时间内总线上传输数据的位数，通常用每秒传输信息的字节数来衡量，单位可用MBps表示。
3. 时钟同步/异步：总线上的数据与时钟同步工作的总线称为同步总线，与时钟不同步工作的总线称为异步总线。
4. 总线复用：一条信号线上分时传送两种信号。
5. 信号线数：地址总线、数据总线和控制总线三种总线数的总和。
6. 总线控制方式：包括突发工作、自动配置、仲裁方式、逻辑方式、计数方式等。
7. 其他指标：如负载能力、电源电压、总线宽度能否扩展等。

### 总线标准

